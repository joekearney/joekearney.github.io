---
layout: post
title: "Index by Author"
categories:
- index
tags:
- landing
- no-date
permalink: /authors

sitemap:
  changefreq: daily
  priority: 0.1
---

{% capture site_authors %}{% for post in site.posts %}{{ post.author | join: '|' }}{% unless forloop.last %}|{% endunless %}{% endfor %}{% endcapture %}
{% assign all_authors = site_authors | split:'|' | sort %}

{% assign all_authors_uniq = "Joe Kearney,Joanna Heald,Kate Jones" | split: ',' %}
{% for a in all_authors %}
  {% unless all_authors_uniq contains a %}
    {% assign all_authors_uniq = all_authors_uniq | push: a %}
  {% endunless %}
{% endfor %}

{% for author in all_authors_uniq %}
  {% unless author == "" %}
    {% assign numPosts = 0 %}
    {% for p in site.posts %}
      {% if p.categories contains 'post' %}
        {% if p.author contains author or p.author == author %}
          {% assign numPosts = numPosts | plus: 1 %}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if numPosts > 1 %}
      <h1>{{ author }} &ndash; {{ numPosts }} posts</h1>
      <ul>
      {% for p in site.posts %}
        {% if p.author contains author or p.author == author %}
          <li>
            {% if p.categories contains 'post' %}<span class="post-description">[Post]</span>{% endif %}
            {% if p.categories contains 'index' %}<span class="post-description">[Index]</span>{% endif %}
            {% if p.tags contains 'landing' %}<span class="post-description">[Landing]</span>{% endif %}
            {% if p.tags contains 'draft' %}<span class="post-description">[Draft]</span>{% endif %}
            <span class="post-description">[{{ p.tags | join: ', ' }}] {{ p.date | date: "%Y-%m-%d" }}</span>
            <a href="{{p.url}}">{{p.title}}</a>
          </li>
        {% endif %}
      {% endfor %}
      </ul>
    {% endif %}
  {% endunless %}
{% endfor %}

<h1>Other authors</h1>
<ul>
{% for author in all_authors_uniq %}
  {% unless author == "" %}
    {% assign numPosts = 0 %}
    {% for p in site.posts %}
      {% if p.categories contains 'post' %}
        {% if p.author contains author or p.author == author %}
          {% assign numPosts = numPosts | plus: 1 %}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if numPosts == 1 %}
      {% for p in site.posts %}
        {% if p.author contains author or p.author == author %}
          <li>
            {{ author }} &ndash;
            {% if p.categories contains 'post' %}<span class="post-description">[Post]</span>{% endif %}
            {% if p.categories contains 'index' %}<span class="post-description">[Index]</span>{% endif %}
            {% if p.tags contains 'landing' %}<span class="post-description">[Landing]</span>{% endif %}
            {% if p.tags contains 'draft' %}<span class="post-description">[Draft]</span>{% endif %}
            <span class="post-description">[{{ p.tags | join: ', ' }}] {{ p.date | date: "%Y-%m-%d" }}</span>
            <a href="{{p.url}}">{{p.title}}</a>
          </li>
        {% endif %}
      {% endfor %}
    {% endif %}
  {% endunless %}
{% endfor %}
</ul>
